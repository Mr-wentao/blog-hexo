<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BLOG</title>
  <icon>https://blog.vrzbq.com/icon.png</icon>
  <subtitle>文涛的博客 - 运维技术分享</subtitle>
  <link href="https://blog.vrzbq.com/atom.xml" rel="self"/>
  
  <link href="https://blog.vrzbq.com/"/>
  <updated>2024-01-11T10:26:41.191Z</updated>
  <id>https://blog.vrzbq.com/</id>
  
  <author>
    <name>wentao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>腾讯云tke-ingress开启ingress域名访问日志</title>
    <link href="https://blog.vrzbq.com/posts/a6ed320f/"/>
    <id>https://blog.vrzbq.com/posts/a6ed320f/</id>
    <published>2024-01-08T08:57:21.802Z</published>
    <updated>2024-01-11T10:26:41.191Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;容器类型为containers的tke集群控制台创建完ingress-controller之后，由于默认日志是打印在pod内的文件，现在需要自行收集访问日志，需要把日志打印在正常的pod输出上在收集&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在ingress-cont</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="腾讯云tke-ingress开启ingress域名访问日志" scheme="https://blog.vrzbq.com/tags/%E8%85%BE%E8%AE%AF%E4%BA%91tke-ingress%E5%BC%80%E5%90%AFingress%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>k8s配置ingress访问集群外部资源</title>
    <link href="https://blog.vrzbq.com/posts/49c855ea/"/>
    <id>https://blog.vrzbq.com/posts/49c855ea/</id>
    <published>2024-01-08T08:55:12.198Z</published>
    <updated>2024-01-11T10:26:41.185Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;使用ingress访问外部资源，首先需要创建service指向我们需要访问的资源&lt;br&gt;而每个service包含一个endpoint&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="k8s配置ingress访问集群外部资源" scheme="https://blog.vrzbq.com/tags/k8s%E9%85%8D%E7%BD%AEingress%E8%AE%BF%E9%97%AE%E9%9B%86%E7%BE%A4%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>k8s常用操作命令</title>
    <link href="https://blog.vrzbq.com/posts/e53e29f0/"/>
    <id>https://blog.vrzbq.com/posts/e53e29f0/</id>
    <published>2024-01-08T06:41:33.624Z</published>
    <updated>2024-01-11T10:26:41.183Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;创建k8s-api管理员token&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="k8s常用操作命令" scheme="https://blog.vrzbq.com/tags/k8s%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>prometheus监控部署及常规组件</title>
    <link href="https://blog.vrzbq.com/posts/f8409f7f/"/>
    <id>https://blog.vrzbq.com/posts/f8409f7f/</id>
    <published>2024-01-08T03:20:59.247Z</published>
    <updated>2024-01-11T10:26:41.186Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;prometheus.yaml&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="prometheus监控部署及常规组件" scheme="https://blog.vrzbq.com/tags/prometheus%E7%9B%91%E6%8E%A7%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%B8%B8%E8%A7%84%E7%BB%84%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>获取Kubernetes的token</title>
    <link href="https://blog.vrzbq.com/posts/lr0clio1/"/>
    <id>https://blog.vrzbq.com/posts/lr0clio1/</id>
    <published>2024-01-05T08:02:08.000Z</published>
    <updated>2024-01-09T08:06:06.421Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;获取admin的token&quot;&gt;&lt;a href=&quot;#获取admin的token&quot; class=&quot;headerlink&quot; title=&quot;获取admin的token&quot;&gt;&lt;/a&gt;获取admin的token&lt;/h2&gt;&lt;p&gt;如果有这个secret,</summary>
        
      
    
    
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/categories/Kubernetes/"/>
    
    
    <category term="配置记录" scheme="https://blog.vrzbq.com/tags/%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/"/>
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/tags/Kubernetes/"/>
    
    <category term="记录" scheme="https://blog.vrzbq.com/tags/%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>redis-cli常用命令</title>
    <link href="https://blog.vrzbq.com/posts/20e32d5b/"/>
    <id>https://blog.vrzbq.com/posts/20e32d5b/</id>
    <published>2024-01-05T03:23:43.095Z</published>
    <updated>2024-01-11T10:26:41.188Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;redis登录&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="redis-cli常用命令" scheme="https://blog.vrzbq.com/tags/redis-cli%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>阿里云ACK中Nginx ingress使用CLB上的Https证书</title>
    <link href="https://blog.vrzbq.com/posts/lr01lzch/"/>
    <id>https://blog.vrzbq.com/posts/lr01lzch/</id>
    <published>2024-01-05T02:54:34.000Z</published>
    <updated>2024-01-11T06:43:01.107Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;背景: 我们在客户那里部署了一套服务, 服务运行在客户提供的ACK集群, 我们删除了客户ACK自带的nginx ingress, 通过自建的方式部署了两套ingress, 一套绑定了公网CLB, 一套绑定了内网CLB, 也就是说是CLB转发到ingress,</summary>
        
      
    
    
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/categories/Kubernetes/"/>
    
    
    <category term="ingress" scheme="https://blog.vrzbq.com/tags/ingress/"/>
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/tags/Kubernetes/"/>
    
    <category term="Nginx" scheme="https://blog.vrzbq.com/tags/Nginx/"/>
    
    <category term="阿里云" scheme="https://blog.vrzbq.com/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
    <category term="ACK" scheme="https://blog.vrzbq.com/tags/ACK/"/>
    
  </entry>
  
  <entry>
    <title>Django RestFramework 自定义显示字段</title>
    <link href="https://blog.vrzbq.com/posts/lqz1imdm/"/>
    <id>https://blog.vrzbq.com/posts/lqz1imdm/</id>
    <published>2024-01-04T10:04:11.000Z</published>
    <updated>2024-01-11T06:43:01.109Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;有的时候序列化出来的字段并不是我们想要的， 比如说返回的用户id，而我们想要返回的是用户名， 这个时候可以用到django rest framework的自定义字段功能。&lt;/p&gt;
&lt;h2 id=&quot;先看一下原始数据&quot;&gt;&lt;a href=&quot;#先看一下原始数据&quot;</summary>
        
      
    
    
    
    <category term="开发" scheme="https://blog.vrzbq.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="django" scheme="https://blog.vrzbq.com/tags/django/"/>
    
    <category term="Python" scheme="https://blog.vrzbq.com/tags/Python/"/>
    
    <category term="drf" scheme="https://blog.vrzbq.com/tags/drf/"/>
    
  </entry>
  
  <entry>
    <title>curl常用操作记录</title>
    <link href="https://blog.vrzbq.com/posts/lqyxid2z/"/>
    <id>https://blog.vrzbq.com/posts/lqyxid2z/</id>
    <published>2024-01-04T08:12:00.000Z</published>
    <updated>2024-01-11T10:24:31.058Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;curl 是常用的命令行工具，用来请求 Web 服务器。它的名字就是客户端（client）的 URL 工具的意思。&lt;/p&gt;
&lt;p&gt;它的功能非常强大，命令行参数多达几十种。如果熟练的话，完全可以取代 Postman 这一类的图形界面工具。&lt;/p&gt;
&lt;p&gt;参考文章: &lt;a</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="配置记录" scheme="https://blog.vrzbq.com/tags/%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/"/>
    
    <category term="常用操作" scheme="https://blog.vrzbq.com/tags/%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"/>
    
    <category term="curl" scheme="https://blog.vrzbq.com/tags/curl/"/>
    
  </entry>
  
  <entry>
    <title>查询redis未设置过期时间的key</title>
    <link href="https://blog.vrzbq.com/posts/55aec82e/"/>
    <id>https://blog.vrzbq.com/posts/55aec82e/</id>
    <published>2024-01-04T07:14:47.935Z</published>
    <updated>2024-01-11T10:26:41.189Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;查询并导出redis中没有设置过期时间的key&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="查询redis未设置过期时间的key" scheme="https://blog.vrzbq.com/tags/%E6%9F%A5%E8%AF%A2redis%E6%9C%AA%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%E7%9A%84key/"/>
    
  </entry>
  
  <entry>
    <title>检查域名支持的HTTPS协议版本</title>
    <link href="https://blog.vrzbq.com/posts/lqxf8k8u/"/>
    <id>https://blog.vrzbq.com/posts/lqxf8k8u/</id>
    <published>2024-01-03T06:52:44.000Z</published>
    <updated>2024-01-11T10:24:31.120Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;在线验证&quot;&gt;&lt;a href=&quot;#在线验证&quot; class=&quot;headerlink&quot; title=&quot;在线验证&quot;&gt;&lt;/a&gt;在线验证&lt;/h2&gt;&lt;p&gt;随便找了两个网站: &lt;/p&gt;
&lt;p&gt;&lt;a</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="加密" scheme="https://blog.vrzbq.com/tags/%E5%8A%A0%E5%AF%86/"/>
    
    <category term="SSL" scheme="https://blog.vrzbq.com/tags/SSL/"/>
    
  </entry>
  
  <entry>
    <title>使用openssl对文件进行加密</title>
    <link href="https://blog.vrzbq.com/posts/lqxdtb6m/"/>
    <id>https://blog.vrzbq.com/posts/lqxdtb6m/</id>
    <published>2024-01-03T06:12:53.000Z</published>
    <updated>2024-01-11T10:24:31.101Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;使用密码加密&quot;&gt;&lt;a href=&quot;#使用密码加密&quot; class=&quot;headerlink&quot; title=&quot;使用密码加密&quot;&gt;&lt;/a&gt;使用密码加密&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
    <category term="加密" scheme="https://blog.vrzbq.com/tags/%E5%8A%A0%E5%AF%86/"/>
    
    <category term="SSL" scheme="https://blog.vrzbq.com/tags/SSL/"/>
    
  </entry>
  
  <entry>
    <title>ES开启安全认证</title>
    <link href="https://blog.vrzbq.com/posts/573776b5/"/>
    <id>https://blog.vrzbq.com/posts/573776b5/</id>
    <published>2024-01-02T06:17:58.000Z</published>
    <updated>2024-01-11T10:26:41.182Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;elasticsearch开启安全认证步骤&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;1.创建证书&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
  </entry>
  
  <entry>
    <title>k8s部署单节点mongodb</title>
    <link href="https://blog.vrzbq.com/posts/894ed04d/"/>
    <id>https://blog.vrzbq.com/posts/894ed04d/</id>
    <published>2024-01-02T06:17:58.000Z</published>
    <updated>2024-01-11T10:26:41.184Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;根据yaml文件修改&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
  </entry>
  
  <entry>
    <title>ES之x-pack-core-7.14.2破解</title>
    <link href="https://blog.vrzbq.com/posts/e544f05a/"/>
    <id>https://blog.vrzbq.com/posts/e544f05a/</id>
    <published>2024-01-02T03:58:06.000Z</published>
    <updated>2024-01-11T10:26:41.180Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;ES之x-pack-core-7-14-2破解&quot;&gt;&lt;a href=&quot;#ES之x-pack-core-7-14-2破解&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    <category term="devops" scheme="https://blog.vrzbq.com/categories/devops/"/>
    
    
  </entry>
  
  <entry>
    <title>查看Navicat保存的密码</title>
    <link href="https://blog.vrzbq.com/posts/lqoui8yg/"/>
    <id>https://blog.vrzbq.com/posts/lqoui8yg/</id>
    <published>2023-12-28T06:50:14.000Z</published>
    <updated>2024-01-03T05:04:41.704Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Navicat密码一旦保存, 再次编辑就没法查看密码是什么了, 包括之前可以使用的星号密码查看器也看不到密码, 我们可以通过导出链接文件, 然后通过解密被加密的密码来获取密码原文.&lt;/p&gt;
&lt;h2 id=&quot;导出加密密码&quot;&gt;&lt;a href=&quot;#导出加密密码&quot;</summary>
        
      
    
    
    
    <category term="工具" scheme="https://blog.vrzbq.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="Docker" scheme="https://blog.vrzbq.com/tags/Docker/"/>
    
    <category term="MySQL" scheme="https://blog.vrzbq.com/tags/MySQL/"/>
    
    <category term="PHP" scheme="https://blog.vrzbq.com/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>Django RestFramework 使用router生成路由</title>
    <link href="https://blog.vrzbq.com/posts/lqmfi6wc/"/>
    <id>https://blog.vrzbq.com/posts/lqmfi6wc/</id>
    <published>2023-12-26T14:14:45.000Z</published>
    <updated>2024-01-11T06:43:01.104Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;django使用的是模块化结构，每个app都可以独立拆分，那么注册路由的时候也可以灵活一点， 使用drf框架提供的router来自动生成路由&lt;/p&gt;
&lt;p&gt;应用级 urls.py&lt;/p&gt;
&lt;figure class=&quot;highlight</summary>
        
      
    
    
    
    <category term="开发" scheme="https://blog.vrzbq.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="django" scheme="https://blog.vrzbq.com/tags/django/"/>
    
    <category term="Python" scheme="https://blog.vrzbq.com/tags/Python/"/>
    
    <category term="drf" scheme="https://blog.vrzbq.com/tags/drf/"/>
    
  </entry>
  
  <entry>
    <title>使用kubectl进行多集群管理</title>
    <link href="https://blog.vrzbq.com/posts/lqacdmqv/"/>
    <id>https://blog.vrzbq.com/posts/lqacdmqv/</id>
    <published>2023-12-18T03:13:59.000Z</published>
    <updated>2024-01-02T04:59:40.115Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;平常使用跳板机来管理, 经常多个环境多套集群, 那么如何用一个kubectl如何管理这些集群.&lt;/p&gt;
&lt;h2 id=&quot;使用不同的kubeconfig管理&quot;&gt;&lt;a href=&quot;#使用不同的kubeconfig管理&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/categories/Kubernetes/"/>
    
    
    <category term="配置记录" scheme="https://blog.vrzbq.com/tags/%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/"/>
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/tags/Kubernetes/"/>
    
    <category term="权限管理" scheme="https://blog.vrzbq.com/tags/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/"/>
    
    <category term="kubectl" scheme="https://blog.vrzbq.com/tags/kubectl/"/>
    
  </entry>
  
  <entry>
    <title>Kubernetes使用存储挂载单个文件</title>
    <link href="https://blog.vrzbq.com/posts/lq292e56/"/>
    <id>https://blog.vrzbq.com/posts/lq292e56/</id>
    <published>2023-12-12T11:19:07.000Z</published>
    <updated>2024-01-02T04:59:40.114Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;一般来说, 挂载存储都是把一个PV挂载到一个路径, 挂载后此路径下原来的文件就会不见, 只能看到挂载后的文件, 和在Linux下挂载磁盘是一样的. 那么现在有个需求: &lt;/p&gt;
&lt;h2 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/categories/Kubernetes/"/>
    
    
    <category term="配置记录" scheme="https://blog.vrzbq.com/tags/%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/"/>
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/tags/Kubernetes/"/>
    
    <category term="挂载" scheme="https://blog.vrzbq.com/tags/%E6%8C%82%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>使用kubeadm部署一套高可用k8s 1.26集群 for AlmaLinux9</title>
    <link href="https://blog.vrzbq.com/posts/lq0y87n5/"/>
    <id>https://blog.vrzbq.com/posts/lq0y87n5/</id>
    <published>2023-12-11T13:44:33.000Z</published>
    <updated>2024-01-02T04:59:40.115Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;基于AlmaLinux9使用kubeadm搭建集群， &lt;a href=&quot;/posts/526ffc9a/&quot;&gt;ubuntu部署文档&lt;/a&gt;, 有疑问的地方可以看&lt;a</summary>
        
      
    
    
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/categories/Kubernetes/"/>
    
    
    <category term="Container" scheme="https://blog.vrzbq.com/tags/Container/"/>
    
    <category term="配置记录" scheme="https://blog.vrzbq.com/tags/%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/"/>
    
    <category term="Kubernetes" scheme="https://blog.vrzbq.com/tags/Kubernetes/"/>
    
    <category term="Linux" scheme="https://blog.vrzbq.com/tags/Linux/"/>
    
  </entry>
  
</feed>
